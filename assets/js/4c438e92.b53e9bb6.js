"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[766],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>m});var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var a=r.createContext({}),u=function(e){var n=r.useContext(a),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},c=function(e){var n=u(e.components);return r.createElement(a.Provider,{value:n},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},f=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,a=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=u(t),f=o,m=p["".concat(a,".").concat(f)]||p[f]||d[f]||i;return t?r.createElement(m,s(s({ref:n},c),{},{components:t})):r.createElement(m,s({ref:n},c))}));function m(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,s=new Array(i);s[0]=f;var l={};for(var a in n)hasOwnProperty.call(n,a)&&(l[a]=n[a]);l.originalType=e,l[p]="string"==typeof e?e:o,s[1]=l;for(var u=2;u<i;u++)s[u]=t[u];return r.createElement.apply(null,s)}return r.createElement.apply(null,t)}f.displayName="MDXCreateElement"},5348:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>u});var r=t(7462),o=(t(7294),t(3905));const i={sidebar_position:11},s="Howto",l={unversionedId:"Howto",id:"Howto",title:"Howto",description:"Configure plugins based on environment",source:"@site/docs/Howto.md",sourceDirName:".",slug:"/Howto",permalink:"/signalstory/docs/Howto",draft:!1,editUrl:"https://github.com/zuriscript/signalstory/tree/master/docs/docs/Howto.md",tags:[],version:"current",sidebarPosition:11,frontMatter:{sidebar_position:11},sidebar:"tutorialSidebar",previous:{title:"Testing",permalink:"/signalstory/docs/testing"},next:{title:"Plugins",permalink:"/signalstory/docs/category/plugins"}},a={},u=[{value:"Configure plugins based on environment",id:"configure-plugins-based-on-environment",level:2}],c={toc:u},p="wrapper";function d(e){let{components:n,...t}=e;return(0,o.kt)(p,(0,r.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"howto"},"Howto"),(0,o.kt)("h2",{id:"configure-plugins-based-on-environment"},"Configure plugins based on environment"),(0,o.kt)("p",null,"To dynamically configure store plugins based on the build environment, you can use Angular environment files. Here's an example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"// file: environment.ts\nexport const environment = {\n  isProd: true,\n  defaultStorePlugins: () => [],\n};\n\n// file: environment.development.ts\nexport const environment = {\n  isProd: false,\n  defaultStorePlugins: () => [useDevtools(), useDeepFreeze()],\n};\n\n// file: user.store.ts\n@Injectable({ providedIn: 'root' })\nclass UserStore extends ImmutableStore<User[]> {\n  constructor() {\n    super({\n      initialState: [],\n      plugins: [...environment.defaultStorePlugins()],\n    });\n  }\n}\n")),(0,o.kt)("p",null,"This allows you to conditionally include or exclude specific store plugins during the build process. Through file replacement during the build process, plugins like ",(0,o.kt)("inlineCode",{parentName:"p"},"useDeepFreeze")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"useDevtools")," can be part of development builds but removed from production bundles, keeping your bundle size in check."),(0,o.kt)("p",null,"Additionally, you can use this pattern to configure default plugins and default configurations that all stores should use."))}d.isMDXComponent=!0}}]);