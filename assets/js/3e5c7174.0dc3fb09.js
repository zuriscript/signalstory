"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[600],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>d});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u=r.createContext({}),l=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(u.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},g=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,u=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),p=l(n),g=o,d=p["".concat(u,".").concat(g)]||p[g]||m[g]||a;return n?r.createElement(d,i(i({ref:t},c),{},{components:n})):r.createElement(d,i({ref:t},c))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=g;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s[p]="string"==typeof e?e:o,i[1]=s;for(var l=2;l<a;l++)i[l]=n[l];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}g.displayName="MDXCreateElement"},363:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>m,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var r=n(7462),o=(n(7294),n(3905));const a={sidebar_position:7},i="Custom",s={unversionedId:"plugins/custom-plugin",id:"plugins/custom-plugin",title:"Custom",description:"Custom plugins allow you to integrate additional behaviors to stores. You can design plugins that perform targeted tasks, integrating external services, validating inputs, or enhancing data management in any other way. This flexibility ensures that your store aligns perfectly with your application's unique use cases.",source:"@site/docs/plugins/custom-plugin.md",sourceDirName:"plugins",slug:"/plugins/custom-plugin",permalink:"/signalstory/docs/plugins/custom-plugin",draft:!1,editUrl:"https://github.com/zuriscript/signalstory/tree/master/docs/docs/plugins/custom-plugin.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Logger",permalink:"/signalstory/docs/plugins/logger"}},u={},l=[{value:"Plugin Structure",id:"plugin-structure",level:2},{value:"Creating a custom plugin",id:"creating-a-custom-plugin",level:2}],c={toc:l},p="wrapper";function m(e){let{components:t,...n}=e;return(0,o.kt)(p,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"custom"},"Custom"),(0,o.kt)("p",null,"Custom plugins allow you to integrate additional behaviors to stores. You can design plugins that perform targeted tasks, integrating external services, validating inputs, or enhancing data management in any other way. This flexibility ensures that your store aligns perfectly with your application's unique use cases."),(0,o.kt)("h2",{id:"plugin-structure"},"Plugin Structure"),(0,o.kt)("p",null,"A custom plugin in signalstory follows a defined structure using the ",(0,o.kt)("inlineCode",{parentName:"p"},"StorePlugin")," type:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"type StorePlugin = {\n  init?: (store: Store<any>) => void;\n  preprocessCommand?: (store: Store<any>, command: string | undefined) => void;\n  postprocessCommand?: (store: Store<any>, command: string | undefined) => void;\n  preprocessEffect?: (\n    store: Store<any>,\n    effect: StoreEffect<any, any, any>\n  ) => void;\n  postprocessEffect?: <TResult>(\n    store: Store<any>,\n    effect: StoreEffect<any, any, TResult>,\n    result: TResult\n  ) => TResult;\n};\n")),(0,o.kt)("p",null,"Here's a breakdown of the available hooks:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"init"),": This function is called during the initialization of a store. It allows you to perform any setup or configuration specific to your plugin and the store."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"preprocessCommand"),": This function is called before a command is executed on a store."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"postprocessCommand"),": This function is called after a command has been executed on a store."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"preprocessEffect"),": This function is called before an effect is executed on a store."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"postprocessEffect"),": This function is called after an effect has been executed on a store.")),(0,o.kt)("h2",{id:"creating-a-custom-plugin"},"Creating a custom plugin"),(0,o.kt)("p",null,"To create a custom plugin, you'll need to define an object or factory method that conforms to the StorePlugin structure. You can include any of the available functions based on your plugin's requirements. Here's an example of a custom plugin that logs every command executed on a store:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import { StorePlugin, Store } from 'signalstory';\n\n// Define Plugin\nfunction useCustomLogPlugin(): StorePlugin {\n  return {\n    postprocessCommand(store, command) {\n      console.log(`Command \"${command}\" executed on store \"${store.name}\"`);\n    },\n  };\n}\n\n// Use Plugin\nclass MyCustomStore extends Store<MyState> {\n  constructor() {\n    super({\n      initialState: { ... },\n      name: 'My Custom Store',\n      plugins: [\n        useCustomLogPlugin(),\n      ],\n    });\n  }\n}\n")))}m.isMDXComponent=!0}}]);